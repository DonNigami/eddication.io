<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>Test Minimal</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <h1>Test Buttons</h1>
  <button id="testBtn">Click Me!</button>
  <div id="output"></div>

  <!-- LIFF SDK -->
  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  
  <!-- Supabase SDK -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    console.log('‚úÖ Script started');
    
    // Test Supabase
    const SUPABASE_URL = 'https://myplpshpcordggbbtblg.supabase.co';
    const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im15cGxwc2hwY29yZGdnYmJ0YmxnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg0MDI2ODgsImV4cCI6MjA4Mzk3ODY4OH0.UC42xLgqSdqgaogHmyRpES_NMy5t1j7YhdEZVwWUsJ8';
    
    window.supabaseTest = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
    console.log('‚úÖ Supabase initialized:', window.supabaseTest);

    // Test LIFF
    const LIFF_ID = '2007705394-Fgx9wdHu';
    
    async function testInit() {
      try {
        await liff.init({ liffId: LIFF_ID });
        console.log('‚úÖ LIFF initialized');
        
        if (liff.isLoggedIn()) {
          const profile = await liff.getProfile();
          document.getElementById('output').innerHTML = `
            <p>‚úÖ LINE Profile: ${profile.displayName}</p>
            <p>User ID: ${profile.userId}</p>
          `;
        } else {
          document.getElementById('output').innerHTML = '<p>üß™ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö (‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ô LINE)</p>';
        }
      } catch (error) {
        console.error('‚ùå LIFF Error:', error);
        document.getElementById('output').innerHTML = '<p>‚ùå Error: ' + error.message + '</p>';
      }
    }

    // Test button
    document.getElementById('testBtn').addEventListener('click', function() {
      alert('Button works! ‚úÖ');
      console.log('‚úÖ Button clicked');
    });

    // Run
    testInit();
  </script>
</body>
</html>
